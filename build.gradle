apply plugin: 'com.github.ben-manes.versions'

buildscript {
    apply from: "$rootDir/gradle/dependencies.gradle"

    def deployNative = property('native.deploy') == 'true'

    println("deployNative: $deployNative")

    repositories {
        mavenCentral()
        google()
        jcenter()
        gradlePluginPortal()
        maven { url 'https://dl.bintray.com/kotlin/kotlinx' }
        maven { url 'https://dl.bintray.com/kotlin/kotlin-eap' }
        maven { url "https://dl.bintray.com/jetbrains/kotlin-native-dependencies" }
    }

    dependencies {
        classpath deps.plugins.kotlin
        classpath deps.plugins.serialization
        classpath deps.plugins.dokka
        classpath deps.plugins.android
        classpath deps.plugins.versions

        if (deployNative) {
            classpath deps.plugins.bintrayNative
        } else {
            classpath deps.plugins.bintray
        }
    }
}


allprojects {
    repositories {
        google()
        mavenCentral()
        jcenter()
        maven { url 'https://dl.bintray.com/kotlin/kotlinx' }
        maven { url 'https://dl.bintray.com/kotlin/kotlin-eap' }
    }

    group = GROUP
    version = VERSION_NAME
}

wrapper {
    gradleVersion = '4.7'
    distributionType = Wrapper.DistributionType.ALL
}